<html>
	<head>
		<meta charset="utf-8">
		<title>YaYa</title>
		<link rel="stylesheet" href="app://css/normalize.css">
		<link rel="stylesheet" type="text/css" href="app://js/easyUI/themes/metro/easyui.css">
		<link rel="stylesheet" href="app://css/style.css">
		<style>
			.left {
				float: left;
			}
		</style>
	</head>
	<body style="width:100%;height:100%; border: 2px solid gray;">
		<script type="text/x-handlebars">
			{{outlet}}
		</script>
		
		<script type="text/x-handlebars" id="index">
		<div style="padding: 20px">
			<div>
				{{#each task in model}}
					{{task-holder task=task remove="removeTask"}}
				{{/each}}
			</div>
			<button {{action "addTask"}}>+</button>
			<button {{action "closeApp"}}>exit</button>
		</div>
		</script>

		<script type="text/x-handlebars" id="components/task-holder">
		<div style="border: 1px dotted Lavender; border-bottom-color: transparent;">
			<div style="height: 23px;">
				{{#if task.isEditing}}
					{{textarea value=task.text rows="1"}}
					<button {{action "save"}}>save</button>
				{{else}}
					<span>
					{{task.text}}
					</span>
					<button style="float: right;" {{action "removeThis"}}>-</button>
					<button style="float: right;" {{action "addChild"}}>+</button>
					<button style="float: right;" {{action "edit"}}>edit</button>
				{{/if}}
			</div>
			<div style="padding-left: 10px;">
				{{#each subtask in task.subTasks}}
					{{task-holder task=subtask remove="removeChild"}}
				{{/each}}
			</div>
		</div>
		</script>

		<script src="app://js/jquery-1.10.2.js"></script>
		<script src="app://js/easyUI/jquery.easyui.min.js"></script>
		<script src="app://js/handlebars-1.1.2.js"></script>
		<script src="app://js/ember-1.5.1.js"></script>
		<script src="app://app.js"></script>
	</body>
</html>